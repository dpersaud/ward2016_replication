data = new data.materials.CompositionDataset 
data import datasets/bandgap.data 
	Imported 25212 entries
data filter exclude ContainsElementFilter He Ne Ar Kr Xe 
	Filtered using a ContainsElementFilter. New size: 25186
data attributes properties directory magpie/Lookup Data/ 
data attributes properties add set general 
	Added 22 new properties.
data attributes generate 
	Generated 145 attributes.
data target bandgap 
	Set target property to bandgap. 101 entries were removed.
model = new models.regression.SplitRegression 
clfr = new models.classification.WekaClassifier meta.RandomSubSpace -W weka.classifiers.trees.REPTree -S 42 -- -N 7 -S 42 
model splitter PredictedClassIntervalSplitter $clfr 0 1.5 3 
submodel = new models.regression.SplitRegression 
submodel splitter MultipleElementGroupsSplitter "F Cl Br I At" "O S Se Te Po" "N P As Sb Bi" 
leaf = new models.regression.WekaRegression meta.RandomSubSpace -W weka.classifiers.trees.REPTree -S 42 -- -N 7 -S 42 
submodel submodel set generic $leaf 
model submodel set 0 $leaf 
model submodel set generic $submodel 
model train $data 
model crossvalidate $data 10 
print model training stats 

Variable: model - Command: training stats
Number Tested: 25085
Pearson's Correlation (R): 0.9665
Spearman's Correlation (Rho): 0.8962
Kendall's Correlation (Tau): 0.7948
MAE: 2.1402e-01
RMSE: 4.4598e-01
MRE: NaN
ROC AUC: 0.9776

print model validation stats 

Variable: model - Command: validation stats
Number Tested: 25085
Pearson's Correlation (R): 0.9178
Spearman's Correlation (Rho): 0.8582
Kendall's Correlation (Tau): 0.7249
MAE: 3.3997e-01
RMSE: 6.9012e-01
MRE: NaN
ROC AUC: 0.9451

testset = data split 0.1 
	Split off 2508 entries from dataset
model train $data 
model run $testset 
stats = new analytics.TargetRegressionStatistics 1.3 -accept 0.4 -window 1.0 -cands 30 
stats evaluate $testset 
	Calculated statistics from 2508 entries
print stats stats 

Variable: stats
Number Tested: 2508
Pearson's Correlation (R): 0.8332
Spearman's Correlation (Rho): 0.6760
Kendall's Correlation (Tau): 0.5555
MAE: 2.9444e-01
RMSE: 5.6104e-01
MRE: 0.9985
ROC AUC: 0.7532

print stats roc 

Variable: stats
      Value	        FPR	Sensitivity
3.00000e-03	0.00000e+00	0.00000e+00
3.58658e-01	1.90641e-02	2.70000e-01
4.46949e-01	4.01058e-02	4.26778e-01
5.85535e-01	5.36852e-02	5.51613e-01
7.18963e-01	6.78521e-02	6.46900e-01
8.12503e-01	8.50048e-02	7.31884e-01
8.87371e-01	1.10034e-01	7.86517e-01
1.06594e+00	1.23225e-01	8.02239e-01
1.18075e+00	1.55039e-01	8.42932e-01
1.21407e+00	1.84896e-01	8.69048e-01
1.25689e+00	2.24084e-01	8.91304e-01
1.28340e+00	2.68766e-01	9.05473e-01
1.28968e+00	3.16010e-01	9.13765e-01
1.29259e+00	3.66404e-01	9.15423e-01
1.29556e+00	4.17542e-01	9.23841e-01
1.29568e+00	4.71113e-01	9.25497e-01
1.29569e+00	7.76261e-01	9.27152e-01
1.29569e+00	7.76261e-01	9.27152e-01
1.29569e+00	7.76261e-01	9.27152e-01
1.29569e+00	7.76261e-01	9.27152e-01
1.29569e+00	7.76261e-01	9.27152e-01
1.29569e+00	7.76261e-01	9.27152e-01
2.13705e+00	1.64773e-01	9.53154e-01
2.43203e+00	2.27891e-01	9.67480e-01
2.69310e+00	3.56000e-01	9.81399e-01
3.60497e+00	3.30769e-01	9.92010e-01
7.89400e+00	1.00000e+00	1.00000e+00


print stats window 

Variable: stats
 Window Size	 # Inside Window	  Frac Below Tol
 5.00000e-02	               1	  1.00000000e+00
 1.00000e-01	               2	  5.00000000e-01
 1.50000e-01	              10	  8.00000000e-01
 2.00000e-01	              14	  6.42857143e-01
 2.50000e-01	              28	  6.07142857e-01
 3.00000e-01	              61	  6.88524590e-01
 3.50000e-01	              88	  6.25000000e-01
 4.00000e-01	             142	  5.42253521e-01
 4.50000e-01	             194	  4.94845361e-01
 5.00000e-01	             233	  4.97854077e-01
 5.50000e-01	             268	  4.62686567e-01
 6.00000e-01	             299	  4.38127090e-01
 6.50000e-01	             338	  4.23076923e-01
 7.00000e-01	             367	  4.11444142e-01
 7.50000e-01	             419	  3.93794749e-01
 8.00000e-01	             468	  3.63247863e-01
 8.50000e-01	             527	  3.37760911e-01
 9.00000e-01	             589	  3.10696095e-01
 9.50000e-01	             627	  2.95055821e-01
 1.00000e+00	             648	  2.88580247e-01


print stats rank 

Variable: stats
Candidates	  Mean Error	 # Below Tol
         2	 4.48500e-01	           1
         3	 3.06000e-01	           2
         5	 2.72600e-01	           4
         6	 2.94167e-01	           4
         8	 2.31500e-01	           6
         9	 2.40444e-01	           7
        11	 3.18091e-01	           8
        12	 3.50417e-01	           8
        14	 3.49286e-01	           9
        15	 3.29667e-01	          10
        17	 3.54353e-01	          10
        18	 3.74222e-01	          10
        20	 3.71500e-01	          11
        21	 3.61619e-01	          12
        23	 4.47870e-01	          12
        24	 4.38750e-01	          13
        26	 4.07115e-01	          15
        27	 3.93852e-01	          16
        29	 3.79379e-01	          18
        30	 3.78767e-01	          19


save model models/baseModels/bandgap_model_seed42 
	Serialized model to models/baseModels/bandgap_model_seed42.obj
template = data clone -empty 
save template datasets/bandgap_dataTemplate 
	Serialized template to datasets/bandgap_dataTemplate.obj
timer elapsed 
	Total time elapsed: 127.979 s
exit 

data = new data.materials.CompositionDataset 
data import datasets/bandgap.data 
	Imported 25212 entries
data filter exclude ContainsElementFilter He Ne Ar Kr Xe 
	Filtered using a ContainsElementFilter. New size: 25186
data attributes properties directory magpie/Lookup Data/ 
data attributes properties add set general 
	Added 22 new properties.
data attributes generate 
	Generated 145 attributes.
data target bandgap 
	Set target property to bandgap. 101 entries were removed.
model = new models.regression.SplitRegression 
clfr = new models.classification.WekaClassifier meta.RandomSubSpace -W weka.classifiers.trees.REPTree -S 58 -- -N 7 -S 58 
model splitter PredictedClassIntervalSplitter $clfr 0 1.5 3 
submodel = new models.regression.SplitRegression 
submodel splitter MultipleElementGroupsSplitter "F Cl Br I At" "O S Se Te Po" "N P As Sb Bi" 
leaf = new models.regression.WekaRegression meta.RandomSubSpace -W weka.classifiers.trees.REPTree -S 58 -- -N 7 -S 58 
submodel submodel set generic $leaf 
model submodel set 0 $leaf 
model submodel set generic $submodel 
model train $data 
model crossvalidate $data 10 
print model training stats 

Variable: model - Command: training stats
Number Tested: 25085
Pearson's Correlation (R): 0.9678
Spearman's Correlation (Rho): 0.8954
Kendall's Correlation (Tau): 0.7884
MAE: 2.0978e-01
RMSE: 4.3751e-01
MRE: NaN
ROC AUC: 0.9796

print model validation stats 

Variable: model - Command: validation stats
Number Tested: 25085
Pearson's Correlation (R): 0.9150
Spearman's Correlation (Rho): 0.8560
Kendall's Correlation (Tau): 0.7209
MAE: 3.4338e-01
RMSE: 7.0210e-01
MRE: NaN
ROC AUC: 0.9422

testset = data split 0.1 
	Split off 2508 entries from dataset
model train $data 
model run $testset 
stats = new analytics.TargetRegressionStatistics 1.3 -accept 0.4 -window 1.0 -cands 30 
stats evaluate $testset 
	Calculated statistics from 2508 entries
print stats stats 

Variable: stats
Number Tested: 2508
Pearson's Correlation (R): 0.8622
Spearman's Correlation (Rho): 0.7103
Kendall's Correlation (Tau): 0.5820
MAE: 2.6583e-01
RMSE: 5.1164e-01
MRE: NaN
ROC AUC: 0.7844

print stats roc 

Variable: stats
      Value	        FPR	Sensitivity
0.00000e+00	0.00000e+00	0.00000e+00
3.55722e-01	1.86875e-02	2.60870e-01
4.63988e-01	4.05888e-02	3.83459e-01
5.73052e-01	5.32110e-02	5.27439e-01
6.91625e-01	6.89655e-02	6.11253e-01
7.93053e-01	8.28117e-02	7.16937e-01
9.24587e-01	9.46687e-02	7.72455e-01
1.11789e+00	1.05864e-01	8.15835e-01
1.18514e+00	1.34069e-01	8.48185e-01
1.24284e+00	1.72833e-01	8.73377e-01
1.25928e+00	2.13228e-01	9.02913e-01
1.27563e+00	2.59004e-01	9.19355e-01
1.28187e+00	3.03127e-01	9.37198e-01
1.28875e+00	3.54719e-01	9.42122e-01
1.29251e+00	4.01379e-01	9.45338e-01
1.29391e+00	4.58355e-01	9.47030e-01
1.29396e+00	5.04509e-01	9.47030e-01
1.29428e+00	7.35809e-01	9.47030e-01
1.29428e+00	7.35809e-01	9.47030e-01
1.29428e+00	7.35809e-01	9.47030e-01
1.29428e+00	7.35809e-01	9.47030e-01
1.29428e+00	7.62334e-01	9.47030e-01
2.06363e+00	1.13433e-01	9.54901e-01
2.35975e+00	2.10702e-01	9.71480e-01
2.65008e+00	3.10204e-01	9.84976e-01
3.45804e+00	3.58621e-01	9.94075e-01
7.72000e+00	1.00000e+00	1.00000e+00


print stats window 

Variable: stats
 Window Size	 # Inside Window	  Frac Below Tol
 5.00000e-02	               1	  1.00000000e+00
 1.00000e-01	               1	  1.00000000e+00
 1.50000e-01	               2	  1.00000000e+00
 2.00000e-01	              13	  8.46153846e-01
 2.50000e-01	              30	  7.66666667e-01
 3.00000e-01	              52	  7.11538462e-01
 3.50000e-01	              89	  6.17977528e-01
 4.00000e-01	             137	  5.18248175e-01
 4.50000e-01	             184	  4.83695652e-01
 5.00000e-01	             226	  4.69026549e-01
 5.50000e-01	             266	  4.62406015e-01
 6.00000e-01	             309	  4.40129450e-01
 6.50000e-01	             348	  4.16666667e-01
 7.00000e-01	             397	  3.80352645e-01
 7.50000e-01	             438	  3.72146119e-01
 8.00000e-01	             483	  3.68530021e-01
 8.50000e-01	             524	  3.51145038e-01
 9.00000e-01	             555	  3.35135135e-01
 9.50000e-01	             596	  3.22147651e-01
 1.00000e+00	             626	  3.14696486e-01


print stats rank 

Variable: stats
Candidates	  Mean Error	 # Below Tol
         2	 1.51000e-01	           2
         3	 1.39667e-01	           3
         5	 1.51800e-01	           5
         6	 1.28333e-01	           6
         8	 2.22375e-01	           7
         9	 2.59222e-01	           7
        11	 2.54182e-01	           9
        12	 2.50750e-01	          10
        14	 2.23286e-01	          12
        15	 2.95067e-01	          12
        17	 2.69000e-01	          14
        18	 2.72000e-01	          15
        20	 3.08900e-01	          16
        21	 2.95952e-01	          17
        23	 2.73696e-01	          19
        24	 2.70792e-01	          20
        26	 2.87385e-01	          20
        27	 2.95148e-01	          20
        29	 2.79552e-01	          22
        30	 2.78700e-01	          23


save model models/baseModels/bandgap_model_seed58 
	Serialized model to models/baseModels/bandgap_model_seed58.obj
template = data clone -empty 
save template datasets/bandgap_dataTemplate 
	Serialized template to datasets/bandgap_dataTemplate.obj
timer elapsed 
	Total time elapsed: 123.385 s
exit 

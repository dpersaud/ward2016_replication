data = new data.materials.CompositionDataset 
data import datasets/bandgap.data 
	Imported 25212 entries
data filter exclude ContainsElementFilter He Ne Ar Kr Xe 
	Filtered using a ContainsElementFilter. New size: 25186
data attributes properties directory magpie/Lookup Data/ 
data attributes properties add set general 
	Added 22 new properties.
data attributes generate 
	Generated 145 attributes.
data target bandgap 
	Set target property to bandgap. 101 entries were removed.
model = new models.regression.SplitRegression 
clfr = new models.classification.WekaClassifier meta.RandomSubSpace -W weka.classifiers.trees.REPTree -S 982 -- -N 7 -S 982 
model splitter PredictedClassIntervalSplitter $clfr 0 1.5 3 
submodel = new models.regression.SplitRegression 
submodel splitter MultipleElementGroupsSplitter "F Cl Br I At" "O S Se Te Po" "N P As Sb Bi" 
leaf = new models.regression.WekaRegression meta.RandomSubSpace -W weka.classifiers.trees.REPTree -S 982 -- -N 7 -S 982 
submodel submodel set generic $leaf 
model submodel set 0 $leaf 
model submodel set generic $submodel 
model train $data 
model crossvalidate $data 10 
print model training stats 

Variable: model - Command: training stats
Number Tested: 25085
Pearson's Correlation (R): 0.9668
Spearman's Correlation (Rho): 0.9012
Kendall's Correlation (Tau): 0.8064
MAE: 2.1177e-01
RMSE: 4.4436e-01
MRE: NaN
ROC AUC: 0.9772

print model validation stats 

Variable: model - Command: validation stats
Number Tested: 25085
Pearson's Correlation (R): 0.9113
Spearman's Correlation (Rho): 0.8554
Kendall's Correlation (Tau): 0.7207
MAE: 3.4807e-01
RMSE: 7.1658e-01
MRE: NaN
ROC AUC: 0.9423

testset = data split 0.1 
	Split off 2508 entries from dataset
model train $data 
model run $testset 
stats = new analytics.TargetRegressionStatistics 1.3 -accept 0.4 -window 1.0 -cands 30 
stats evaluate $testset 
	Calculated statistics from 2508 entries
print stats stats 

Variable: stats
Number Tested: 2508
Pearson's Correlation (R): 0.8666
Spearman's Correlation (Rho): 0.7058
Kendall's Correlation (Tau): 0.5773
MAE: 2.7341e-01
RMSE: 5.2213e-01
MRE: 1.3314
ROC AUC: 0.7515

print stats roc 

Variable: stats
      Value	        FPR	Sensitivity
1.00000e-03	0.00000e+00	0.00000e+00
3.19403e-01	1.74520e-02	2.63889e-01
4.34513e-01	3.80995e-02	3.89892e-01
5.65348e-01	4.31755e-02	5.53672e-01
6.67206e-01	5.82938e-02	6.58291e-01
7.81077e-01	7.33138e-02	7.16450e-01
9.01436e-01	9.39869e-02	7.56144e-01
1.05334e+00	1.01526e-01	7.90774e-01
1.17951e+00	1.23110e-01	8.24695e-01
1.22698e+00	1.56233e-01	8.61401e-01
1.25297e+00	2.00436e-01	8.83929e-01
1.28324e+00	2.47681e-01	9.02222e-01
1.28795e+00	3.06936e-01	9.05465e-01
1.28866e+00	3.45355e-01	9.10029e-01
1.29213e+00	3.99891e-01	9.16176e-01
1.29308e+00	4.49918e-01	9.16300e-01
1.29315e+00	5.02463e-01	9.16300e-01
1.29375e+00	5.53366e-01	9.16300e-01
1.29381e+00	7.79967e-01	9.17768e-01
1.29381e+00	7.79967e-01	9.17768e-01
1.29381e+00	7.79967e-01	9.17768e-01
1.29381e+00	7.79967e-01	9.17768e-01
2.12391e+00	1.27596e-01	9.53478e-01
2.42114e+00	2.02847e-01	9.66322e-01
2.70602e+00	3.22449e-01	9.83650e-01
3.44599e+00	3.64238e-01	9.95333e-01
7.26100e+00	1.00000e+00	1.00000e+00


print stats window 

Variable: stats
 Window Size	 # Inside Window	  Frac Below Tol
 5.00000e-02	               3	  3.33333333e-01
 1.00000e-01	               9	  6.66666667e-01
 1.50000e-01	              12	  6.66666667e-01
 2.00000e-01	              21	  7.14285714e-01
 2.50000e-01	              43	  7.67441860e-01
 3.00000e-01	              87	  6.89655172e-01
 3.50000e-01	             112	  6.25000000e-01
 4.00000e-01	             161	  5.65217391e-01
 4.50000e-01	             203	  5.32019704e-01
 5.00000e-01	             236	  5.21186441e-01
 5.50000e-01	             273	  5.23809524e-01
 6.00000e-01	             314	  5.15923567e-01
 6.50000e-01	             361	  4.90304709e-01
 7.00000e-01	             415	  4.50602410e-01
 7.50000e-01	             451	  4.39024390e-01
 8.00000e-01	             495	  4.16161616e-01
 8.50000e-01	             522	  4.08045977e-01
 9.00000e-01	             564	  3.86524823e-01
 9.50000e-01	             617	  3.61426256e-01
 1.00000e+00	             648	  3.51851852e-01


print stats rank 

Variable: stats
Candidates	  Mean Error	 # Below Tol
         2	 1.54950e+00	           0
         3	 1.13367e+00	           1
         5	 8.71800e-01	           2
         6	 7.45500e-01	           3
         8	 6.11000e-01	           5
         9	 5.55111e-01	           6
        11	 5.19545e-01	           7
        12	 5.02250e-01	           8
        14	 5.02000e-01	           9
        15	 4.73333e-01	          10
        17	 4.61000e-01	          11
        18	 4.35722e-01	          12
        20	 4.09950e-01	          14
        21	 3.91381e-01	          15
        23	 3.81261e-01	          16
        24	 3.78667e-01	          17
        26	 4.19077e-01	          17
        27	 4.08741e-01	          18
        29	 4.23517e-01	          19
        30	 4.10167e-01	          20


save model models/baseModels/bandgap_model_seed982 
	Serialized model to models/baseModels/bandgap_model_seed982.obj
template = data clone -empty 
save template datasets/bandgap_dataTemplate 
	Serialized template to datasets/bandgap_dataTemplate.obj
timer elapsed 
	Total time elapsed: 124.835 s
exit 

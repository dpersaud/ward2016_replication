data = new data.materials.CompositionDataset 
data import datasets/bandgap.data 
	Imported 25212 entries
data filter exclude ContainsElementFilter He Ne Ar Kr Xe 
	Filtered using a ContainsElementFilter. New size: 25186
data attributes properties directory magpie/Lookup Data/ 
data attributes properties add set general 
	Added 22 new properties.
data attributes generate 
	Generated 145 attributes.
data target bandgap 
	Set target property to bandgap. 101 entries were removed.
model = new models.regression.SplitRegression 
clfr = new models.classification.WekaClassifier meta.RandomSubSpace -W weka.classifiers.trees.REPTree -S 15 -- -N 7 -S 15 
model splitter PredictedClassIntervalSplitter $clfr 0 1.5 3 
submodel = new models.regression.SplitRegression 
submodel splitter MultipleElementGroupsSplitter "F Cl Br I At" "O S Se Te Po" "N P As Sb Bi" 
leaf = new models.regression.WekaRegression meta.RandomSubSpace -W weka.classifiers.trees.REPTree -S 15 -- -N 7 -S 15 
submodel submodel set generic $leaf 
model submodel set 0 $leaf 
model submodel set generic $submodel 
model train $data 
model crossvalidate $data 10 
print model training stats 

Variable: model - Command: training stats
Number Tested: 25085
Pearson's Correlation (R): 0.9658
Spearman's Correlation (Rho): 0.8927
Kendall's Correlation (Tau): 0.7831
MAE: 2.1468e-01
RMSE: 4.5109e-01
MRE: NaN
ROC AUC: 0.9774

print model validation stats 

Variable: model - Command: validation stats
Number Tested: 25085
Pearson's Correlation (R): 0.9167
Spearman's Correlation (Rho): 0.8576
Kendall's Correlation (Tau): 0.7226
MAE: 3.4213e-01
RMSE: 6.9461e-01
MRE: NaN
ROC AUC: 0.9438

testset = data split 0.1 
	Split off 2508 entries from dataset
model train $data 
model run $testset 
stats = new analytics.TargetRegressionStatistics 1.3 -accept 0.4 -window 1.0 -cands 30 
stats evaluate $testset 
	Calculated statistics from 2508 entries
print stats stats 

Variable: stats
Number Tested: 2508
Pearson's Correlation (R): 0.8788
Spearman's Correlation (Rho): 0.7042
Kendall's Correlation (Tau): 0.5752
MAE: 2.6163e-01
RMSE: 4.8221e-01
MRE: NaN
ROC AUC: 0.7747

print stats roc 

Variable: stats
      Value	        FPR	Sensitivity
0.00000e+00	0.00000e+00	0.00000e+00
3.46107e-01	1.66521e-02	2.61062e-01
4.39454e-01	3.93384e-02	3.87454e-01
5.69966e-01	5.28022e-02	5.07163e-01
6.70985e-01	6.78046e-02	6.06516e-01
7.62868e-01	8.23643e-02	7.02703e-01
8.86838e-01	1.00648e-01	7.50499e-01
1.04456e+00	1.11859e-01	7.92028e-01
1.15320e+00	1.29049e-01	8.41600e-01
1.20568e+00	1.60877e-01	8.88540e-01
1.26514e+00	2.02362e-01	9.05426e-01
1.28010e+00	2.48120e-01	9.22601e-01
1.28571e+00	2.99301e-01	9.31994e-01
1.28998e+00	3.45699e-01	9.35185e-01
1.29300e+00	3.96774e-01	9.36728e-01
1.29455e+00	4.51075e-01	9.38272e-01
1.29459e+00	5.47849e-01	9.38272e-01
1.29478e+00	5.52151e-01	9.38272e-01
1.29533e+00	7.89247e-01	9.39815e-01
1.29533e+00	7.89247e-01	9.39815e-01
1.29533e+00	7.89247e-01	9.39815e-01
1.29533e+00	7.89247e-01	9.39815e-01
2.06659e+00	1.00610e-01	9.54128e-01
2.36635e+00	1.75439e-01	9.71210e-01
2.77545e+00	2.74775e-01	9.81627e-01
3.54102e+00	3.01471e-01	9.94941e-01
7.26100e+00	1.00000e+00	1.00000e+00


print stats window 

Variable: stats
 Window Size	 # Inside Window	  Frac Below Tol
 5.00000e-02	               1	  0.00000000e+00
 1.00000e-01	               3	  6.66666667e-01
 1.50000e-01	               5	  8.00000000e-01
 2.00000e-01	              10	  7.00000000e-01
 2.50000e-01	              16	  5.62500000e-01
 3.00000e-01	              31	  6.45161290e-01
 3.50000e-01	              99	  6.46464646e-01
 4.00000e-01	             165	  5.87878788e-01
 4.50000e-01	             205	  5.41463415e-01
 5.00000e-01	             235	  5.10638298e-01
 5.50000e-01	             270	  4.96296296e-01
 6.00000e-01	             317	  4.66876972e-01
 6.50000e-01	             361	  4.54293629e-01
 7.00000e-01	             413	  4.16464891e-01
 7.50000e-01	             473	  3.93234672e-01
 8.00000e-01	             509	  3.77210216e-01
 8.50000e-01	             550	  3.56363636e-01
 9.00000e-01	             587	  3.44122658e-01
 9.50000e-01	             636	  3.28616352e-01
 1.00000e+00	             660	  3.22727273e-01


print stats rank 

Variable: stats
Candidates	  Mean Error	 # Below Tol
         2	 6.59000e-01	           1
         3	 4.73667e-01	           2
         5	 3.65800e-01	           4
         6	 3.60333e-01	           5
         8	 3.40375e-01	           6
         9	 4.06556e-01	           6
        11	 3.92000e-01	           7
        12	 4.34083e-01	           7
        14	 4.41286e-01	           8
        15	 4.51000e-01	           8
        17	 4.37118e-01	           9
        18	 4.41056e-01	           9
        20	 4.27300e-01	          10
        21	 4.08571e-01	          11
        23	 3.78130e-01	          13
        24	 3.66167e-01	          14
        26	 3.40808e-01	          16
        27	 3.31037e-01	          17
        29	 3.21345e-01	          19
        30	 4.37400e-01	          19


save model models/baseModels/bandgap_model_seed15 
	Serialized model to models/baseModels/bandgap_model_seed15.obj
template = data clone -empty 
save template datasets/bandgap_dataTemplate 
	Serialized template to datasets/bandgap_dataTemplate.obj
timer elapsed 
	Total time elapsed: 127.372 s
exit 

data = new data.materials.CompositionDataset 
data import datasets/bandgap.data 
	Imported 25212 entries
data filter exclude ContainsElementFilter He Ne Ar Kr Xe 
	Filtered using a ContainsElementFilter. New size: 25186
data attributes properties directory magpie/Lookup Data/ 
data attributes properties add set general 
	Added 22 new properties.
data attributes generate 
	Generated 145 attributes.
data target bandgap 
	Set target property to bandgap. 101 entries were removed.
model = new models.regression.SplitRegression 
clfr = new models.classification.WekaClassifier meta.RandomSubSpace -W weka.classifiers.trees.REPTree -S 66 -- -N 7 -S 66 
model splitter PredictedClassIntervalSplitter $clfr 0 1.5 3 
submodel = new models.regression.SplitRegression 
submodel splitter MultipleElementGroupsSplitter "F Cl Br I At" "O S Se Te Po" "N P As Sb Bi" 
leaf = new models.regression.WekaRegression meta.RandomSubSpace -W weka.classifiers.trees.REPTree -S 66 -- -N 7 -S 66 
submodel submodel set generic $leaf 
model submodel set 0 $leaf 
model submodel set generic $submodel 
model train $data 
model crossvalidate $data 10 
print model training stats 

Variable: model - Command: training stats
Number Tested: 25085
Pearson's Correlation (R): 0.9655
Spearman's Correlation (Rho): 0.8942
Kendall's Correlation (Tau): 0.7896
MAE: 2.1735e-01
RMSE: 4.5280e-01
MRE: NaN
ROC AUC: 0.9771

print model validation stats 

Variable: model - Command: validation stats
Number Tested: 25085
Pearson's Correlation (R): 0.9138
Spearman's Correlation (Rho): 0.8560
Kendall's Correlation (Tau): 0.7217
MAE: 3.4775e-01
RMSE: 7.0614e-01
MRE: NaN
ROC AUC: 0.9447

testset = data split 0.1 
	Split off 2508 entries from dataset
model train $data 
model run $testset 
stats = new analytics.TargetRegressionStatistics 1.3 -accept 0.4 -window 1.0 -cands 30 
stats evaluate $testset 
	Calculated statistics from 2508 entries
print stats stats 

Variable: stats
Number Tested: 2508
Pearson's Correlation (R): 0.8653
Spearman's Correlation (Rho): 0.6958
Kendall's Correlation (Tau): 0.5759
MAE: 2.7360e-01
RMSE: 5.0724e-01
MRE: 0.9136
ROC AUC: 0.7739

print stats roc 

Variable: stats
      Value	        FPR	Sensitivity
2.00000e-03	0.00000e+00	0.00000e+00
3.47030e-01	2.00598e-02	3.03030e-01
4.71059e-01	4.23951e-02	4.36364e-01
5.80505e-01	6.13718e-02	5.23973e-01
7.08884e-01	7.16963e-02	6.20321e-01
8.14428e-01	9.39759e-02	6.60508e-01
9.12117e-01	1.05289e-01	7.50515e-01
1.07616e+00	1.14315e-01	7.96820e-01
1.14980e+00	1.39280e-01	8.51100e-01
1.22947e+00	1.78947e-01	8.73355e-01
1.27959e+00	2.15873e-01	8.99676e-01
1.28620e+00	2.58867e-01	9.17609e-01
1.28900e+00	3.06144e-01	9.27419e-01
1.29062e+00	3.55591e-01	9.38808e-01
1.29204e+00	4.09645e-01	9.45250e-01
1.29212e+00	7.76895e-01	9.45250e-01
1.29212e+00	7.76895e-01	9.45250e-01
1.29212e+00	7.76895e-01	9.45250e-01
1.29212e+00	7.76895e-01	9.45250e-01
1.29212e+00	7.76895e-01	9.45250e-01
1.29212e+00	7.76895e-01	9.45250e-01
1.29212e+00	7.76895e-01	9.45250e-01
2.05875e+00	1.23894e-01	9.54818e-01
2.37498e+00	1.92171e-01	9.67670e-01
2.66211e+00	2.94118e-01	9.84581e-01
3.53024e+00	3.49315e-01	9.94920e-01
8.51600e+00	1.00000e+00	1.00000e+00


print stats window 

Variable: stats
 Window Size	 # Inside Window	  Frac Below Tol
 5.00000e-02	               3	  6.66666667e-01
 1.00000e-01	               4	  5.00000000e-01
 1.50000e-01	               9	  5.55555556e-01
 2.00000e-01	              24	  6.66666667e-01
 2.50000e-01	              44	  6.59090909e-01
 3.00000e-01	              67	  6.11940299e-01
 3.50000e-01	             100	  5.70000000e-01
 4.00000e-01	             135	  5.03703704e-01
 4.50000e-01	             170	  4.76470588e-01
 5.00000e-01	             212	  4.48113208e-01
 5.50000e-01	             253	  4.07114625e-01
 6.00000e-01	             305	  3.96721311e-01
 6.50000e-01	             339	  3.77581121e-01
 7.00000e-01	             380	  3.50000000e-01
 7.50000e-01	             416	  3.24519231e-01
 8.00000e-01	             469	  2.98507463e-01
 8.50000e-01	             521	  2.76391555e-01
 9.00000e-01	             566	  2.65017668e-01
 9.50000e-01	             610	  2.55737705e-01
 1.00000e+00	             642	  2.55451713e-01


print stats rank 

Variable: stats
Candidates	  Mean Error	 # Below Tol
         2	 7.16000e-01	           1
         3	 6.07000e-01	           2
         5	 4.52400e-01	           3
         6	 5.20667e-01	           3
         8	 5.14875e-01	           4
         9	 4.92667e-01	           5
        11	 4.45727e-01	           6
        12	 4.34583e-01	           7
        14	 4.15286e-01	           9
        15	 4.74267e-01	           9
        17	 4.92941e-01	           9
        18	 4.87444e-01	          10
        20	 4.57550e-01	          12
        21	 4.43429e-01	          13
        23	 4.10217e-01	          15
        24	 3.98583e-01	          16
        26	 3.98500e-01	          17
        27	 3.86000e-01	          18
        29	 3.91690e-01	          19
        30	 3.88600e-01	          20


save model models/baseModels/bandgap_model_seed66 
	Serialized model to models/baseModels/bandgap_model_seed66.obj
template = data clone -empty 
save template datasets/bandgap_dataTemplate 
	Serialized template to datasets/bandgap_dataTemplate.obj
timer elapsed 
	Total time elapsed: 128.547 s
exit 
